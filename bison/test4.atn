function func(a, b, c) {
	print << a << " " << c << endl;
	return b;
}

ATN main {
	initial states: a;
	final states: c;

	state a {
		action {
			print << "State: a" << endl;
		}

		transition {
			to b if (func($, true, "a"));
			to c if (func($, false, "a"));
		}
	}

	state b {
		ACTION {
			print << "State: b" << endl;
		}
		transition {
			to c if (func($, true, "b"));
		}
	}

	STATE c {
		ACTION {
			print << "State: c" << endl;
		}
		TRANSITION { }
	}
}
